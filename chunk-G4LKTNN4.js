import{a as L}from"./chunk-GQV22JDL.js";import{g as E}from"./chunk-CNJEVGNS.js";import{a as y}from"./chunk-Q6ESINKT.js";import{j as x,k as h,o as _}from"./chunk-25R6QSTX.js";import{Cb as b,Ja as v,Pa as l,Q as g,Wa as d,Xa as o,Ya as r,bb as f,cb as u,hb as p,rb as a,sb as m,ta as s}from"./chunk-OAMJKMOZ.js";import{f as c}from"./chunk-EQDQRRRY.js";var I=t=>["/eventos",t];function w(t,n){t&1&&(o(0,"div",1),a(1,"Carregando\u2026"),r())}function S(t,n){if(t&1&&(o(0,"div",8),a(1),r()),t&2){let e=p();s(),m(e.error)}}function O(t,n){t&1&&(o(0,"div",9),a(1," Conex\xE3o lenta. Exibindo o que j\xE1 foi carregado\u2026 "),r())}function T(t,n){t&1&&(o(0,"div",13),a(1," Nenhum dataset encontrado em "),o(2,"code"),a(3,"assets/data/events/cenario-real/datasets.json"),r(),a(4,". "),r())}function N(t,n){if(t&1&&(o(0,"a",14)(1,"div",15),a(2),r(),o(3,"div",16),a(4),r(),o(5,"div",17),a(6,"Abrir"),r()()),t&2){let e=n.$implicit;d("routerLink",b(3,I,e.id)),s(2),m(e.label),s(2),m(e.description||"\u2014")}}function k(t,n){if(t&1&&(f(0),l(1,T,5,0,"div",10),o(2,"div",11),l(3,N,7,5,"a",12),r(),u()),t&2){let e=p();s(),d("ngIf",!e.datasets.length),s(2),d("ngForOf",e.datasets)}}var C=class t{real=g(L);isLoading=!0;error="";timedOut=!1;datasets=[];ngOnInit(){return c(this,null,function*(){let n=this.real.getDatasets();try{let e=yield y(n,5e3);this.apply(e)}catch(e){e?.message==="TIMEOUT"?(this.timedOut=!0,this.isLoading=!1,n.then(i=>this.apply(i)).catch(()=>this.error="N\xE3o foi poss\xEDvel carregar os datasets de eventos.")):(this.error="N\xE3o foi poss\xEDvel carregar os datasets de eventos.",this.isLoading=!1)}})}apply(n){this.datasets=Object.entries(n||{}).filter(([e,i])=>i&&(i.file==="__ALL__"||e==="brasil_all")).map(([e,i])=>({id:e,label:i.label,description:i.description})),this.isLoading=!1,this.timedOut=!1,this.error=""}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=v({type:t,selectors:[["app-eventos-list"]],decls:10,vars:4,consts:[[1,"space-y-6"],[1,"bg-white","rounded-xl","border","border-slate-200","p-6"],[1,"text-2xl","font-bold","text-slate-900"],[1,"text-slate-600","mt-1"],["class","bg-white rounded-xl border border-slate-200 p-6",4,"ngIf"],["class","bg-white rounded-xl border border-slate-200 p-6 text-red-600",4,"ngIf"],["class","bg-amber-50 border border-amber-200 text-amber-700 rounded-md p-3",4,"ngIf"],[4,"ngIf"],[1,"bg-white","rounded-xl","border","border-slate-200","p-6","text-red-600"],[1,"bg-amber-50","border","border-amber-200","text-amber-700","rounded-md","p-3"],["class","bg-white rounded-xl border border-slate-200 p-6 text-slate-500",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4"],["class","block no-underline bg-white rounded-xl border border-slate-200 p-5 hover:shadow transition",3,"routerLink",4,"ngFor","ngForOf"],[1,"bg-white","rounded-xl","border","border-slate-200","p-6","text-slate-500"],[1,"block","no-underline","bg-white","rounded-xl","border","border-slate-200","p-5","hover:shadow","transition",3,"routerLink"],[1,"text-lg","font-semibold","text-slate-900","mb-1"],[1,"text-slate-600","text-sm"],[1,"mt-3","text-blue-600","text-sm"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"header",1)(2,"h1",2),a(3,"Eventos \u2014 Datasets (Cen\xE1rio real)"),r(),o(4,"p",3),a(5,"Escolha um dataset para visualizar os eventos detectados pela heur\xEDstica."),r()(),l(6,w,2,0,"div",4)(7,S,2,1,"div",5)(8,O,2,0,"div",6)(9,k,4,2,"ng-container",7),r()),e&2&&(s(6),d("ngIf",i.isLoading),s(),d("ngIf",!i.isLoading&&i.error),s(),d("ngIf",i.timedOut&&!i.error),s(),d("ngIf",!i.isLoading&&!i.error))},dependencies:[_,x,h,E],encapsulation:2})};export{C as EventosListComponent};
