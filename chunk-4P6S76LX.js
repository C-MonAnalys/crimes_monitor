import{a as y}from"./chunk-VIKKZCXJ.js";import{g as _}from"./chunk-CNJEVGNS.js";import{a as C}from"./chunk-Q6ESINKT.js";import{j as x,k as h,o as E}from"./chunk-25R6QSTX.js";import{Cb as b,Ja as v,Pa as l,Q as g,Wa as d,Xa as o,Ya as i,bb as u,cb as f,hb as p,rb as a,sb as m,ta as s}from"./chunk-OAMJKMOZ.js";import{f as c}from"./chunk-EQDQRRRY.js";var I=e=>["/eventos",e];function w(e,n){e&1&&(o(0,"div",1),a(1,"Carregando\u2026"),i())}function S(e,n){if(e&1&&(o(0,"div",8),a(1),i()),e&2){let t=p();s(),m(t.error)}}function O(e,n){e&1&&(o(0,"div",9),a(1," Conex\xE3o lenta. Exibindo o que j\xE1 foi carregado\u2026 "),i())}function T(e,n){e&1&&(o(0,"div",13),a(1," Nenhum dataset encontrado em "),o(2,"code"),a(3,"assets/data/events/cenario-real/datasets.json"),i(),a(4,". "),i())}function N(e,n){if(e&1&&(o(0,"a",14)(1,"div",15),a(2),i(),o(3,"div",16),a(4),i(),o(5,"div",17),a(6,"Abrir"),i()()),e&2){let t=n.$implicit;d("routerLink",b(3,I,t.id)),s(2),m(t.label),s(2),m(t.description||"\u2014")}}function k(e,n){if(e&1&&(u(0),l(1,T,5,0,"div",10),o(2,"div",11),l(3,N,7,5,"a",12),i(),f()),e&2){let t=p();s(),d("ngIf",!t.datasets.length),s(2),d("ngForOf",t.datasets)}}var L=class e{real=g(y);isLoading=!0;error="";timedOut=!1;datasets=[];ngOnInit(){return c(this,null,function*(){let n=this.real.getDatasets();try{let t=yield C(n,5e3);this.apply(t)}catch(t){t?.message==="TIMEOUT"?(this.timedOut=!0,this.isLoading=!1,n.then(r=>this.apply(r)).catch(()=>this.error="N\xE3o foi poss\xEDvel carregar os datasets de eventos.")):(this.error="N\xE3o foi poss\xEDvel carregar os datasets de eventos.",this.isLoading=!1)}})}apply(n){this.datasets=Object.entries(n||{}).map(([t,r])=>({id:t,label:r.label,description:r.description})),this.isLoading=!1,this.timedOut=!1,this.error=""}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=v({type:e,selectors:[["app-eventos-list"]],decls:10,vars:4,consts:[[1,"space-y-6"],[1,"bg-white","rounded-xl","border","border-slate-200","p-6"],[1,"text-2xl","font-bold","text-slate-900"],[1,"text-slate-600","mt-1"],["class","bg-white rounded-xl border border-slate-200 p-6",4,"ngIf"],["class","bg-white rounded-xl border border-slate-200 p-6 text-red-600",4,"ngIf"],["class","bg-amber-50 border border-amber-200 text-amber-700 rounded-md p-3",4,"ngIf"],[4,"ngIf"],[1,"bg-white","rounded-xl","border","border-slate-200","p-6","text-red-600"],[1,"bg-amber-50","border","border-amber-200","text-amber-700","rounded-md","p-3"],["class","bg-white rounded-xl border border-slate-200 p-6 text-slate-500",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4"],["class","block no-underline bg-white rounded-xl border border-slate-200 p-5 hover:shadow transition",3,"routerLink",4,"ngFor","ngForOf"],[1,"bg-white","rounded-xl","border","border-slate-200","p-6","text-slate-500"],[1,"block","no-underline","bg-white","rounded-xl","border","border-slate-200","p-5","hover:shadow","transition",3,"routerLink"],[1,"text-lg","font-semibold","text-slate-900","mb-1"],[1,"text-slate-600","text-sm"],[1,"mt-3","text-blue-600","text-sm"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"header",1)(2,"h1",2),a(3,"Eventos \u2014 Datasets (Cen\xE1rio real)"),i(),o(4,"p",3),a(5,"Escolha um dataset para visualizar os eventos detectados pela heur\xEDstica."),i()(),l(6,w,2,0,"div",4)(7,S,2,1,"div",5)(8,O,2,0,"div",6)(9,k,4,2,"ng-container",7),i()),t&2&&(s(6),d("ngIf",r.isLoading),s(),d("ngIf",!r.isLoading&&r.error),s(),d("ngIf",r.timedOut&&!r.error),s(),d("ngIf",!r.isLoading&&!r.error))},dependencies:[E,x,h,_],encapsulation:2})};export{L as EventosListComponent};
